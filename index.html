<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Webapp</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
  </head>
  
  <p id="demo"></p>
  
  <script type="text/javascript">
    Telegram.WebApp.ready();
    
    document.getElementById("demo").innerHTML = Telegram.WebApp.initData;
    
    Telegram.WebApp.MainButton.setText('Record').show().onClick(function () {
        const data = JSON.stringify(
          {
            description: document.querySelector("input#description").value, 
            amount: document.querySelector("input#amount").value,
            currency: document.querySelector("select#ddlViewBy").value,
          }
        );
        Telegram.WebApp.sendData(data);
        Telegram.WebApp.close();
    });
  </script>
  
  <body>
    <h2>HTML Forms</h2>

    <form id="transaction" name="transaction">
      <label for="description">Description:</label><br>
      <input type="text" id="description" name="description", value="Новая транзакция"><br>
      <label for="amount">Amount:</label><br>
      <input type="number" id="amount" name="amount" value="0"><br><br>
      <label for="currency">Currency:</label><br>
      <select id="ddlViewBy">
        <option value="RUR">🇷🇺 RUR[₽]</option>
        <option value="EUR" selected="selected">🇪🇺 EUR[€]</option>
        <option value="USD">🇺🇸 USD[$]</option>
      </select>
    </form> 
  </body>
  
  <script type="text/javascript">
    Telegram.WebApp.expand();
  </script>
</html>


